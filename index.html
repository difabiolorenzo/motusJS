<html>

<head>
    <title>MotusJS</title>
    <meta name="description" lang="fr"
        content="Le fameux ancien jeu t√©l√©vis√© de mot quotidien Motus de FranceT√©l√©vision en JavaScript">
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" title="css" href="src/css/global.css">
    <link rel="stylesheet" type="text/css" title="css" href="src/css/grid.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="src/img/favicon.png">
</head>

<body id="body" onLoad="initVariables()">
    <script type="text/javascript" src="./src/js/dictionary/words.js"></script>
    <script type="text/javascript" src="./src/js/game/game.js"></script>
    <script type="text/javascript" src="./src/js/game/init.js"></script>
    <script type="text/javascript" src="./src/js/letter/letter_grid.js"></script>
    <script type="text/javascript" src="./src/js/number/number_grid.js"></script>
    <script type="text/javascript" src="./src/js/number/grid_data.js"></script>
    <script type="text/javascript" src="./src/js/settings/settings.js"></script>
    <script type="text/javascript" src="./src/js/game/keyinput.js"></script>
    <!-- <script type="module" src="./src/js/settings/settings.json"></script> -->

    <script type="text/javascript" src="./src/js/sounds/jquery-3.7.0.min.js"></script>
    <script type="text/javascript" src="./src/js/sounds/jquery.playSound.js"></script>

    <!-- Page: Menu principal -->
    <!-- Les pages devront √™tre affich√©es une √† la fois -->
    <div class="page" id="main_menu" style="display:block;">
        <!-- Contenu du menu principal -->
        <div id="main_menu_topbar">
            <img src="./src/img/motus_logo_2010.png" id="logo"></img>
        </div>

        <div id="main_menu_content">
            <button class="button menu_button" onclick="initGame()" autofocus=true>Jouer</button>
            <button class="button menu_button" onclick="displayPage('settings_page')">Param√®tres</button>
            <button class="button menu_button" onclick="displayPage('credit_page')">Credits</button>
            <button class="button menu_button" id="debug_menu_button" onclick="displayPage('debug_page')">Debug</button>
        </div>
        <div id="version_placeolder">
            <a id="game">motusJS</a><a id="version">JavaScript desactiv√©.</a>
        </div>

    </div>

    <!-- Page: Game -->
    <div class="page style_2010 visible_keyboard" id="letter_grid_page" style="display:none;">
        <div id="topbar">
            <img src="./src/img/left_arrow.svg" alt="menu" onclick="displayPage('main_menu')" />
            <img src="./src/img/sparkles.svg" alt="bonus-letter" id="bonus-letter-icon" onclick="addBonusLetter()" />
            <img src="./src/img/refresh.svg" alt="new-word" id="refresh-word-icon" onclick="displaySolution(true)" />
            <img src="./src/img/dice_20.svg" alt="switch_panel" id="switch-panel-icon" onclick="switchGridType()" />
            <!-- <img src="./src/img/stats.svg" alt="stats" id="stats-icon"  onclick="alert('wip stats')"/> -->
            <img src="./src/img/settings.png" alt="settings" id="settings-icon"
                onclick="displayPage('settings_page')" />
            <!-- <button class="button flex_button" id="new_line_button" onclick="newWordLine();">Nouvelle Ligne</button>
      <button class="button flex_button" id="delete_line_button" onclick="removeWordLine();">Supprimer la ligne</button>
      </div>

      <div class="flex_section">
        <select class="button flex_button" id="proposed_word_information_select" style="width: auto;" disabled>
          <option value=undefined>Mot propos√©s</option>
        </select>
        <button class="button flex_button" id="proposed_word_information_button" onclick="wordInformation(editHTML('proposed_word_information_select').value)" disabled >Informations sur le mot propos√©</button>
        <button class="button flex_button" id="found_word_information_button" onclick="wordFoundInformation()" disabled >Informations sur le mot trouv√©</button>
      </div>

      <div class="flex_section">
        <button class="button flex_button" id="change_team_letter_grid_button" onclick="switchTeamFocus()" style="display:none;">Changer d'√©quipe</button>
      </div>

      <div class="flex_section">
        <button class="button flex_button" id="display_word_button" onclick="displaySolution();">Afficher la r√©ponse</button>
      </div>
      <div class="flex_section"> -->
        </div>
        <div id="game">
            <div id="top_game_content"></div>
            <div id="game_grid">
                <div id="letter_grid_placeolder"></div>
                <div id="number_grid_placeolder"></div>
            </div>
            <div id="score_placeolder">
                <div class='score active_score' id='score_0_panel' style='display: block;'>0</div>
                <div class='score' id='score_1_panel' style='display: none;'>0</div>
            </div>
            <div id="user_actions">
                <div id="keyboard"></div>
                <div id="number_grid_interactions">
                    <div id="purgatory">
                    </div>
                    <div id="number_grid_actions">
                        <div class="pick_ball" onclick="pickBall()">?</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="protip">
            <h3>Touches Clavier</h3>
            <p>Supprime la lettre: <keyboardKey>erase</keyboardKey> ou <keyboardKey>fl√®che gauche</keyboardKey>
            </p>
            <p>Nouvelle ligne: <keyboardKey>1</keyboardKey> ou <keyboardKey>&</keyboardKey>
            </p>
            <p>Lettre Bonus: <keyboardKey>2</keyboardKey> ou <keyboardKey>√©</keyboardKey>
            </p>
            <p>Supprime la ligne: <keyboardKey>3</keyboardKey> ou <keyboardKey>√©</keyboardKey>
            </p>
            <p>Remplacer la ligne: <keyboardKey>4</keyboardKey> ou <keyboardKey>'</keyboardKey>
            </p>
            <p>Changement de main d'√©quipe: <keyboardKey>5</keyboardKey> ou <keyboardKey>(</keyboardKey>
            </p>
            <br>
            <p>Reinitialiser le mot en cours: <keyboardKey>9</keyboardKey> ou <keyboardKey>√ß</keyboardKey>
            </p>
            <p>Affichage de la solution: <keyboardKey>0</keyboardKey> ou <keyboardKey>√†</keyboardKey>
            </p>
        </div>
    </div>



    </div>

    <!-- Page: Credits / Licences -->
    <div class="page" id="credit_page" style="display:none;">
        <div id="credit-up">
            <div class="d-flex topbar-page">
                <h1 class="link" onclick="displayPage('main_menu')">ü°∞</h1>
                <h1>Credits</h1>
            </div>
            <div class="section">
                <h3>GitHub</h3>
                <button class="button menu_button"
                    onclick="window.location.href = 'https://github.com/difabiolorenzo/motusJS'">GitHub</button>
            </div>
            <div class="section">
                <h3>Motus</h3>
                <p>Le jeu Motus est une propri√©t√© de France T√©l√©visions / IDTV.</p>
                <p>Lingo 1990 conception Ralph Andrews</p>
                <p>ALL 3 MEDIA International</p>
                <p>L‚Äôensemble des √©l√©ments (logos, marques et autres √©l√©ments reproduits) sont r√©serv√©s et prot√©g√©s par
                    le droit
                    de la propri√©t√© intellectuelle, notamment les droits d‚Äôauteur, droits voisins, droits des marques,
                    tous
                    reviennent √† <a href="https://www.francetelevisions.fr/cgu">francetelevisions.</a></p>
            </div>
            <div class="section">
                <h3>jQuery</h3>
                <p>jQuery est sous licence <a
                        href="https://tldrlegal.com/license/creative-commons-cc0-1.0-universal">CC0</a></p>
            </div>
            <div class="section">
                <h3>Id√©e d'origine</h3>
                <p>motusJS est construit sur les base du code de <b>sogroo</b> avec l'ancienne version de son site <a
                        href="https://web.archive.org/web/20200814003927/http://www.anagrammeur.com/jeux/motus/motus.php">anagrammeur.com</a>
                </p>
            </div>
            <div class="section">
                <h3>Dictionnaires</h3>
                <p>Les dictionnaires des mots proviennent du jeu <a
                        href="ftp://ftp.ac-grenoble.fr/ge/educational_games">XScrabble.</a></p>
            </div>
        </div>
        <div class="section">
            <h3>Ic√¥nes</h3>
            <p>Ic√¥nes par <a href="https://www.flaticon.com/uicons">Flaticon</a></p>
        </div>
    </div>
    </div>



    <!-- Page: Param√®tres -->
    <div class="page" id="settings_page" style="display:none;">
        <div class="topbar-page">
            <h1 class="link" onclick="displayPage('main_menu')">ü°∞</h1>
            <h1>Param√®tres</h1>
        </div>

        <div id="settings_content" class="d-flex">
            <div id="settings_main" class="p-4">
                <div>
                    <button role="button" onclick="saveSettingsIntoLocalStorage()">Sauvegarder</button>
                    <!-- <button role="button" onclick="exportSettings()">Exporter</button> -->
                    <!-- <button role="button" onclick="importSettings()">Importer</button> -->
                    <button role="button" onclick="resetSettings()">Reinitialiser</button>
                </div>
                <div class="settings_input">
                    <h2>Jeu</h2>

                    <div class="form-group">
                        <label for="verification_speed_select">Temps de v√©rification en fonction du nombre de lettre</label>
                        <select class="select" id="verification_speed_select" onchange="settings.verification_time_multiplier = this.value;">
                            <option value="1">Normal</option>
                            <option value="0.5">Tr√®s lent</option>
                            <option value="0.25">Lent</option>
                            <option value="0.115">Rapide</option>
                            <option value="0">Instantan√©</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="grid_style">Style de la grille</label>
                        <select class="select" name="grid_style" id="grid_style" 
                        onchange="UpdateStyle(this.value);">
                            <option value="1990">Ann√©es 1990</option>
                            <option value="2000">Ann√©es 2000</option>
                            <option value="2010">Ann√©es 2010</option>
                            <option value="2019">Ann√©es 2019</option>
                        </select>
                        <img id="preview_img" class="p-2" src="">
                    </div>
                    <!-- <div class="form-group">
                        <input type="checkbox" name="checkbox_fullscreen" checked disabled
                            id="checkbox_fullscreen" onchange="UpdateFullscreenSettings(this.value)">
                        <label name="grid_style" >Affichage en mode plein √©cran</label>
                    </div> -->

                    <br>

                    <div class="form-group">
                        <input type="checkbox" name="check_automatic_behaviour" 
                            id="check_automatic_behaviour"
                            onchange="UpdateAutomaticBehaviourSettings(this.checked)">
                        <label for="check_automatic_behaviour">Activer les automatismes</label>
                    </div>
                    <div class="form-group">
                        <label for="check_automatic_behaviour_new_line_error">Nouvelle ligne apr√®s
                            erreur</label>
                        <select class="select" id="check_automatic_behaviour_new_line_error"
                            onchange="settings.automatic_behaviour_new_line_error = this.value;">
                            <option value="replace_bonus">Replacer + lettre bonus</option>
                            <option value="replace_only">Replacer</option>
                            <option value="add_bonus">Ajouter + lettre bonus</option>
                            <option value="add_only">Ajouter</option>
                            <option value="none">Ne rien faire</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <input id="check_automatic_behaviour_redirect_number_grid" type="checkbox"
                            name="check_automatic_behaviour_redirect_number_grid"
                            onchange="automatic_behaviour_redirect_number_grid = this.checked">
                        <label for="check_automatic_behaviour_redirect_number_grid">Redirection vers
                            grille num√©rot√©e</label>
                    </div>
                    <div class="form-group">
                        <input id="check_automatic_behaviour_redirect_letter_grid" type="checkbox"
                            name="check_automatic_behaviour_redirect_letter_grid"
                            onchange="automatic_behaviour_redirect_letter_grid = this.checked">
                        <label for="check_automatic_behaviour_redirect_letter_grid">Redirection vers
                            grille de mot</label>
                    </div>
                    <div class="form-group">
                        <input id="check_automatic_behaviour_new_word" type="checkbox"
                            name="check_automatic_behaviour_ask_new_word"
                            onchange="automatic_behaviour_ask_new_word = this.checked">
                        <label for="check_automatic_behaviour_new_word">Propose un nouveau mot</label>
                    </div>
                </div>

                <div class="settings_input">
                    <h2>Mots</h2>

                    <h3>V√©rifications des mots propos√©s</h3>
                    <div class="form-group">
                        <input type="checkbox" name="checkbox_check_word_presence" id="checkbox_check_word_presence"
                            onchange="settings.check_word_presence = this.checked">
                        <label for="checkbox_check_word_presence">Existe dans le dictionnaire</label>
                    </div>
                    <div class="form-group">
                        <input type="checkbox" name="checkbox_check_word_duplication" id="checkbox_check_word_duplication"
                            onchange="settings.check_word_duplication = this.checked">
                        <label for="checkbox_check_word_duplication">D√©ja propos√©</label>
                    </div>
                    <div class="form-group">
                        <input type="checkbox" name="checkbox_check_word_length" id="checkbox_check_word_length"
                                            onchange="settings.check_word_length = this.checked">
                        <label for="checkbox_check_word_length">Longueur du mot</label>
                    </div>
                    <div class="form-group">
                        <input type="checkbox" name="checkbox_check_first_letter" id="checkbox_check_first_letter"
                                            onchange="settings.check_word_first_letter = this.checked">
                        <label for="checkbox_check_first_letter">Premi√®re lettre correspondante</label>
                    </div>

                    <h3>Possibilit√© de lettres bonus</h3>
                    <div class="form-group">
                        <label for="select_bonus_letter_amount">Lettres bonus</label>
                        <select disabled class="select" id="select_bonus_letter_amount" onchange="settings.bonus_letter_amount= this.value;">
                            <option value=0>0</option>
                            <option value=1>1</option>
                            <option value=2>2</option>
                            <option value=3>3</option>
                        </select>
                    </div>

                    <h3>Longueur des mots</h3>
                    <div class="form-group">
                        <input type="checkbox" name="checkbox_always_ask_word_length" id="checkbox_always_ask_word_length" onchange="UpdateAlwaysAskSettings(this.checked);">
                        <label for="checkbox_always_ask_word_length">Toujours demander le nombre de lettre du prochain mot</label>
                    </div>
                    <div class="form-group">
                        <label for="always_ask_length_dropdown">Nombre de lettre</label>
                        <select class="select" id="always_ask_length_dropdown" disabled
                            onchange="always_ask_length = this.value;">
                            <option value=8>8 lettres</option>
                            <option value=5>5 lettres</option>
                            <option value=6>6 lettres</option>
                            <option value=7>7 lettres</option>
                            <option value=9>9 lettres</option>
                            <option value=10>10 lettres</option>
                        </select>
                    </div>
                </div>

                <div class="settings_input">
                    <h2>Grilles num√©rot√©es</h2>
                    <div class="form-group">
                        <input type="checkbox" name="use_number_grid_checkbox" id="use_number_grid_checkbox"
                            onchange="UpdateNumberGridSettings(this.checked)" />
                        <label for="use_number_grid_checkbox">Utiliser la grille num√©rot√©e</label>
                    </div>
                    <div class="form-group">
                        <label for="try_picking_ball_input">Nombre de boules tir√©es</label>
                        <input type="number" id="try_picking_ball_input" name="try_picking_ball_input" 
                            step="1" value="2" onchange="try_picking_ball = this.value">
                    </div>
                    <div class="form-group">
                        <input type="checkbox" name="use_saving_ball_checkbox" 
                            id="use_saving_ball_checkbox" onchange="UpdateSavingBallSettings(this.checked)">
                        <label for="use_saving_ball_checkbox">Utiliser la "boule magique"</label>
                    </div>
                    <div class="form-group">
                        <input type="checkbox" name="limiting_saving_ball_checkbox" 
                            id="limiting_saving_ball_checkbox" onchange="limiting_saving_ball = this.checked">
                        <label for="limiting_saving_ball_checkbox">Limiter les "boules magiques" √† la premi√®re grille</label>
                    </div>
                    <div class="form-group">
                        <label for="black_ball_amount_input">Nombre de boules noires</label>
                        <input type="number" id="black_ball_amount_input" name="black_ball_amount_input" step="1" value="3"
                            onchange="black_ball_amount = this.value">
                    </div>
                    <div class="form-group">
                        <label for="sort_mode_select">Mode de s√©l√©ction des boules</label>
                        <select disabled class="select" id="sort_mode_select" onchange="UpdateNumberSelectMode(this.value);">
                            <option value="random">Au hasard</option>
                            <option value="input_touch">Par clique (n'inclut pas les boules noires)</option>
                            <option value="input_keyboard">Par clavier (n'inclut pas les boules noires))</option>
                        </select>
                    </div>
                </div>

                <div class="settings_input">
                    <h2>√âquipes et Scores</h2>

                    <div class="form-group">
                        <input type="checkbox" name="team_enabled_checkbox" id="team_enabled_checkbox" onchange="UpdateTeamSettings(this.checked)">
                        <label for="team_enabled_checkbox">Activer les √©quipes</label>
                    </div>
                    <div class="form-group">
                        <label for="score_addition">Nombre de points ajout√©s</label>
                        <select class="select" id="score_addition_select" onchange="score_addition = Math.floor(this.value);">
                            <option value=1>1 Point</option>
                            <option value=50>50 Points</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="settings_section_team">Passer la main:</label>
                        <select class="select" id="settings_section_team" onchange="settings.change_turn_mode = this.value;"
                            disabled>
                            <option value="by_error">√Ä chaque erreur</option>
                            <option value="by_proposition">√Ä chaque proposition</option>
                        </select>
                    </div>
                </div>

                <div class="settings_input">
                    <h2>Sons</h2>

                    <div class="form-group">
                        <input type="checkbox" name="checkbox_sound_activated" id="checkbox_sound_activated"
                            onchange="settings.playsound_enabled = this.checked">
                        <label for="checkbox_sound_activated">Activer les bruitages</label>
                    </div>
                </div>
            </div>

            <div id="settings_ajout_mot">
                <h3>Liste de mot</h3>
                <div>

                </div>
                <div id="settings_ajout_mot_buttons" class="p-4">
                    <h3>Nombre de lettre</h3>
                    <input type="button" id="word_list_button_random" value="5"
                        onclick="Javascript:WordListAddRowRandom(5)">
                    <input type="button" id="word_list_button_random" value="6"
                        onclick="Javascript:WordListAddRowRandom(6)">
                    <input type="button" id="word_list_button_random" value="7"
                        onclick="Javascript:WordListAddRowRandom(7)">
                    <input type="button" id="word_list_button_random" value="8"
                        onclick="Javascript:WordListAddRowRandom(8)">
                    <input type="button" id="word_list_button_random" value="9"
                        onclick="Javascript:WordListAddRowRandom(9)">
                    <input type="button" id="word_list_button_random" value="10"
                        onclick="Javascript:WordListAddRowRandom(10)">
                </div>

                <div class="word_list_section  p-4" id="word_list_section_text">
                    
                    <div class="form-group">
                        <label for="word_list_selected_word">Ajouter un mot manuellement</label>
                        <input type="text" id="word_list_selected_word" name="word_list_selected_word" style="text-transform:uppercase">
                        
                        <br>
                        <code>Le mot doit contenir entre 5 et 10 lettres</code>

                        <input type="button" value="Ajouter" onclick="WordAddCustom()">
                    </div>
                    
                    
                </div>

                <table id="word_list" cellpadding="2"></table>
            </div>

        </div>
    </div>

    <!-- Page: Debug -->
    <div class="page" id="debug_page" style="display:none; color:white;">
        <div>
            <h1>Debug</h1>
            <button onclick="displayPage('main_menu')">Retour</button>
        </div>

        <div>
            <button onclick="playsound('grille_creation');">grille_creation</button>
            <button onclick="playsound('grille_numero');">grille_numero</button>
            <button onclick="playsound('grille_boule_noire');">grille_boule_noire</button>
            <button onclick="playsound('grille_numero_tire');">grille_numero_tire</button>
            <button onclick="playsound('motus');">motus</button>
            <button onclick="playsound('boule_magique');">boule_magique</button>
        </div>

        <div>
            <button onclick="playsound('letter_ok');">letter_ok</button>
            <button onclick="playsound('letter_bad');">letter_bad</button>
            <button onclick="playsound('letter_missing');">letter_missing</button>
            <button onclick="playsound('letter_bonus');">letter_bonus</button>
            <button onclick="playsound('wrong');">wrong</button>
        </div>

        <div>
            <button onclick="playsound('victory');">victory</button>
            <button onclick="playsound('temps_ecoule');">temps_ecoule</button>
            <button onclick="playsound('loose');">loose</button>
        </div>
    </div>
</body>

<audio controls preload="auto" style="display:none;">
    <source src="src/sounds/lettre_ok.mp3">
    <source src="src/sounds/lettre_mauvaise.mp3">
    <source src="src/sounds/lettre_absente.mp3">
    <source src="src/sounds/lettre_bonus.mp3">
    <source src="src/sounds/erreur.mp3">
    <source src="src/sounds/victory.mp3">
    <source src="src/sounds/temps_ecoule.mp3">
    <source src="src/sounds/loose.mp3">
    <source src="src/sounds/grille_creation.mp3">
    <source src="src/sounds/grille_numero.mp3">
    <source src="src/sounds/grille_boule_noire.mp3">
    <source src="src/sounds/grille_numero_tire.mp3">
    <source src="src/sounds/motus.mp3">
    <source src="src/sounds/boule_magique.mp3">
    <source src="src/sounds/jingle_motus.mp3">
</audio>

</html>